<html>
  <head>
    <title>Doesn't He Have Intern-Elves For This?</title>
  <style type="text/css">
    textarea,input,button { display: block; }
  </style>
  </head>
  <body>
    <textarea id="input" rows="20" cols="80"></textarea>
    <button onclick="whoIsNice()">Naughty or Nice?</button>
  <input type="text" style="width:100%" id="output"></input>
    <script type="text/javascript">
      function whoIsNice() {
        var inText = document.getElementById("input").value;

        var lines = inText.split('\n');
        var niceCount = 0;
        
        var testOne = /([a-z]{2}).*\1/;
        var testTwo = /([a-z]).\1/;

        for (var i = 0; i < lines.length; i++) {
          var line = lines[i].trim().toLowerCase();

          var resultOne = line.match(testOne);
          var resultTwo = line.match(testTwo);
          console.log(resultOne);

          if (testOne.test(line) && testTwo.test(line)) {
            console.log(line);
            niceCount++;
          }
        }

        document.getElementById("output").value = "Found " + niceCount + " strings";
      }
    </script>
  </body>
</html>